/* partials/menu */
/* main IMG menu */
/*

.img_menu {
	background-color: $h-menu-bg;
	@include cf;
	width: 100%;
	ul {
		list-style: none;
	}
	.expand {
		min-width: 1rem;
		padding: $gutter $font-size;
		float: right;
		text-align: center;
	}
	a {
		color: $h-menu-link;
		background-color: $h-menu-link-bg;
		padding: $gutter $font-size;

		&:hover, &:focus, &:active {
			color: $h-menu-hfa-link;
			background-color: $h-menu-hfa-link-bg;
		}
		&:visited {
			color: $h-menu-link;
			background-color: $h-menu-bg;
		}
	}
	.current-menu-item > a {
		color: $h-menu-current;
		background-color: $h-menu-current-bg;
	}
	.sub-menu .current-menu-item > a {
		border-left: .25rem solid $h-menu-current-hilite;
	}
}

@include minw($med) {
	#menu-link {
		display: none;
	}
	.img_menu {
		li {
			float: left;
			position: relative;
		}
		a {
			display: block;
			float: left;
		}

		// drop down
		.sub-menu li {
			margin-left: -1px;
			border-left: 1px solid $h-menu-border;
			border-right: 1px solid $h-menu-border;
			border-bottom: 1px solid $h-menu-border;

			li {
				border-bottom: 1px solid $h-menu-border;
				&:last-child {
			//		float: none;
					border-bottom: none;
				}
			}
		}

		li ul,
		li:hover ul ul {
			display: none;
		//	z-index: 100;
		}
		li:hover ul {
			display:block;
		}

		li {
			ul {
				position: absolute;
				width: 12.5rem;
				top: $font-size*3;
			}
			li ul {
				left: 12.5rem;
				top: 0;
			}
			li {
				float: none;
			}

			li a {
				float: none;
				height: 100%;
			}
		}
	}
}

// responsive
@include maxw($med-) {
	#menu-link {
		display: block;

		a:hover, a:focus {
			color: $selcn;
		}
	}

	.img_menu {
		a {
			display: block;
		//	border-bottom: 1px solid #F8F8F8;
		}
		li {
			li a {
				padding-left: 2rem;
			}
			li li a {
				padding-left: 4rem;
			}
		}
	}
	.js nav ul, .js nav .show ul {
		display: none;
	//	max-height: 0;
	//	opacity: 0;
	}
	.js nav .show, .js nav .show .show  {
		display: block;
	//	max-height: 2000rem;
	//	opacity: 1;
	}
}

nav ul, nav a {
	transition: all .5s ease-in;
}

*/


/* Main Navigation */
#menu {

	@include cf;
	margin-top: $gutter;
	background: #FFF;
//	height: 25px;
	border-bottom: 2px solid #999999;
	margin-bottom: $gutter;
//	width: 1024px;

	ul {
		margin: 0;
	}

	li ul {
		display: none;
	}
}

/*
 * top level menu
 */
#nav {
	margin: 0;
	padding: 0;
	list-style: none;

	li {
		font-size: .75rem;
		line-height: 1.5rem;
		display: block;
//		padding-bottom: $gutter;
	}

	> li {
		position: relative;
		float: left;
	}

	li li {
//		padding-bottom: 0;
	}

	/*
	 top level
	 */
	> li > a {
		border-top-right-radius: $gutter*.5;
		border-top-left-radius: $gutter*.5;
	}

	li a {
		display: block;
		color: #000;
//		padding: 0;
		background: #FFF;
		margin-left: 0;
		white-space: nowrap;
	//	height: 23px;
		border: 1px solid #999;
		padding-left: $gutter;
		padding-right: $gutter;
//		padding: .1em 1em 0 1em;
	}

	li:hover a {
		background: #69C
			/* make 1st level menu selected as we mouse over the 2nd level menu */
	}

	li a:hover {
		background: #369;
		color: #000;
	}

	li.highlight a {
		color: #000;
		background: #69C;
	}

	/*
	when 1st level menu highlighted and mouse over change the color
	to hover over color
	*/
	li.highlight a:hover {
		color: #FFF;
		background: #369;
	}

	/*
	used to display 2nd level menu when mouse hover overs
	1st level menu
	*/
	li:hover ul {
		display: block;
		position: absolute;
		/*background: #aaddFF;*/
		z-index: 9999;
		/*margin-top: -1px;*/
	}

	/*
	bug fix need this to keep menu display
	with a slow moving mose
	from top level menu to sub menu - ken
	*/
	li ul:hover {
		display: block;
	}

	li ul li.sub a {
		width: 152px; /* width of 2nd level menu when you hover 1st level menu */
	//	height: 20px;
		background: #EFFAFF;
//		padding: $gutter *.5 0 0 $line-ht;
		color: #000;
		margin: 0 0 0 -40px;
		border-top: 0;
	}

	li ul li.sub a:hover {
		background: #369;
		color: #FFF;
	}

	/*
	 * 2nd level menu with 3rd level menu options
	 */
	li ul li.sub2 a {
		width: 152px; /* width of 2nd level menu */
	//	height: 20px;
		background: #9ce;
//		padding: $gutter*.5 0 0 $line-ht;
		color: #000;
		margin: 0 0 0 -40px;
		border-top: 0;
	}

	li ul li.sub2 a:hover {
		background: #369;
		color: #FFF;
	}

	/*
	 * 3rd level menu
	 */
	li ul li.sub2 ul li.sub3 {
		width: 150px; /* 3rd level menu width */

		/* TODO FF4 bug fix? */
		margin-top: $neg-gutter;
		padding-bottom: $gutter;
		top: $gutter;
		padding-left: 40px;
		margin-left: -40px;
	}

	li ul li.sub2 ul li.sub3 a {
		width: 160px; /* 3rd level menu width */
	//	height: 20px;
	}

	li:hover ul li ul {
		visibility: hidden;
		z-index: -1; /* bug fix for rightmenu sub2 <ul> should be behind <a> */

		/* TODO FF4 bug fix? */
		right:0;
	}

	li:hover ul li:hover ul,
	li a:hover ul li a:hover ul {
		display: block;
		visibility: visible;
//		padding: 0;
//		margin: 0;
		top: 0;
		left: 168px; /* location of 3rd menu pop with respect to 2nd level menu */
	}

	/*
	 some 3rd level menus pop-up to go to scroll up and not down - 4 sub menu
	*/
	li:hover ul li:hover ul.popup,
	li a:hover ul li a:hover ul.popup {
		display: block;
		visibility: visible;
//		padding: 0;
		margin: -78px 0 0 0;
		top: 0;
		left: 168px; /* location of 3rd menu pop with respect to 2nd level menu */
	}


	li ul li ul li.sub3 a:hover {
		background: #369;
		color: #FFF;

	}

}


/* ---------------------------------------------------------
 *
 *  Using IMG right tab
 *
 * ---------------------------------------------------------
 */
/* right menu tab */
.rightmenu {
	/*left: 264px;*/
	float: right;
	a {
	//	padding: 0.1em 1em 0 1em;
		&:hover {
			background: #369;
			color: #FFF;
		}
	}

/*
 right menu 2nd level popup
 aaddFF to DCF7FF to EFFAFF
*/
	ul {
		right: -3px;
	}

	/*
	FF4 fix
	*/
	li.sub  {
		width: 140px;
		a {
			width: 160px;
//			height: 20px;
			background: #EFFAFF;
		//	padding: 5px 0 0 $line-ht;
			color: #000;
			/*margin: 0 0 0 -134px;*/

			border-top:0;

			&:hover {
				background: #369;
				color: #FFF;
			}
		}
	}

/*
 * right 2nd level menu with 3rd level menu options
 */

	/*
	FF4 bug fix
	*/
	li.sub2 {
		width: 140px;
		a {
			width: 175px; /* width of 2nd level menu */
//			height: 20px;
			background: #9CE;
		//	padding: 5px 0 0 0;
			color: #000;
			/*margin:000 -134px;*/

			&:hover {
				background: #369;
				color: #FFF;
			}
		}

	/*
	 rightmenu 3rd level menu
	*/
		li.sub3 {
		/* width: 150px;  3rd level menu width - see below - must be the same*/
		right: 160px;

		/* TODO FF4 bug fix? */
		margin-top: $neg-gutter;
		padding-bottom: $gutter;
		top: $gutter;
		margin-left: -80px; /* single cell doc is too long shift 3rd menu more to the left */

			a {
				width: 190px; /* 3rd level menu width  - see above must be the same*/
//				height: 20px;
				padding-left: $gutter;
			/* margin-left: -295px;  move to left here for right menu */
			}
		}
	}

	&:hover li ul {
		visibility: hidden;
	}

	&:hover li:hover ul,
	a:hover li a:hover ul {
		display: block;
		visibility: visible;
//		padding: 0;
//		margin: 0;
		top: 0;
		left: 0; /* location of 3rd menu pop with respect to 2nd level menu  - see above cannot be here for rightmenu*/
	}

	li li.sub3 a:hover {
		background: #369;
		color: #FFF;
	}

}

li.righthighlight a {
    color: #FFF;
    background: #69C;
}





/* ---------------------------------------------------------
 *
 * menu icon styles
 *
 * ---------------------------------------------------------
 */

/*
 arrow points to the right
*/
img.subarrow {
	border-width: 0;
	/*margin-left: 25px;*/ /* this needs to be reset base on label length */
	/*margin-top: -5px;*/
	vertical-align : middle;

	float: right;
	margin-left: -35px;
	margin-right: 0;
	margin-top: 0;
	padding-bottom: 0;
	padding-right: $gutter;
}

/*
 arrow points to the left
*/
img.subarrow_left {
    border-width: 0;
    margin-left: $gutter;
    margin-right: 5px;
    vertical-align : middle;
}

/*
 no border for icon
*/
.menuimg {
    vertical-align : middle;
    height: 16px;
    width: 16px;
}

/* ---------------------------------------------------------
 *
 * Companion right tab
 *
 * ---------------------------------------------------------
 */
li.rightmenu2 {
    /*left: 264px;*/
    float: right;
	a {
	//	padding: 0.1em 1em 0 1em;
		&:hover {
			background: #369;
			color: #FFF;
		}
	}

	/*
	 right menu 2nd level popup
	 aaddFF to EFFAFF
	*/
	ul {
		right: -54px;
	}
	.sub  {
		width: 140px;

		a {
			width: 125px;
//			height: 20px;
			background: #EFFAFF;
		//	padding: 5px 0 0 $line-ht;
			color: #000;
			margin: 0 0 0 -55px;

			border-top: 0;

			&:hover {
				background: #369;
				color: #FFF;
			}
		}
	}
	/*
	 * right 2nd level menu with 3rd level menu options
	 */
	.sub2 {
		width: 140px; /* width of 2nd level menu */

		a {
			width: 140px; /* width of 2nd level menu */
//			height: 20px;
			background: #9ce;
		//	padding: 5px 0 0 0;
			color: #000;
			margin: 0 0 0 -55px;

			&:hover {
				background: #369;
				color: #FFF;
			}
		}

		/*
		 rightmenu 3rd level menu
		*/
		.sub3 {
			width: 100px; /* 3rd level menu width - see below - must be the same*/
			right: 111px;

			/* TODO FF4 bug fix? */
			margin-top: $neg-gutter;
			padding-bottom: $gutter;
			top: $gutter;
			a {
				width: 100px; /* 3rd level menu width  - see above must be the same*/
//				height: 20px;
			//	padding: 5px 0 0 $gutter;
				/*margin-left: -11px;  move to left here for right menu */

				&:hover {
					background: #369;
					color: #FFF;
				}
			}
		}
	}

	li:hover li ul {
		visibility: hidden;
	}

	:hover li:hover ul,
	a:hover li a:hover ul {
		display: block;
		visibility: visible;
//		padding: 0;
//		margin: 0;
		top: 0;
		left: 0; /* location of 3rd menu pop with respect to 2nd level menu  - see above cannot be here for rightmenu*/
	}
}


